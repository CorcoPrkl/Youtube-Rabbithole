<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Youtube Rabbithole</title>
  </head>

  <body>
    <h1>Youtube Rabbithole</h1>
    
    <input type="text" id="idInput" caption="Youtube-ID"></input>
    
    <p id="nextVideo"></p>
    
  </body>  
  
    <script>
  var ipc = require('electron').ipcRenderer;
  var input = document.getElementById('idInput');
  var container = document.getElementById('nextVideo');
  var parsedResponse;
  
  input.addEventListener('change', ()=> {
    
    ipc.send('getNextVideo', input.value);      
    
    
  }); 
  
  ipc.on('videoData', (event, arg) => {
    
  parsedResponse = arg;
  container.innerHTML = "";
  
  for(var i = 0; i < parsedResponse.length; i++ ) {
  
  container.innerHTML += "<iframe width='600' height='400' src='https://www.youtube.com/embed/"+parsedResponse[i].id.videoId+"?autoplay=0&showinfo=1' frameborder='0' allowfullscreen></iframe>";  
  
  
    
  }
  
  
  
    
  });
    
  </script>
  
  
</html>